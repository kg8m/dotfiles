#!/usr/bin/env bash
PREVIOUS_HEAD=$1
# NEW_HEAD=$2
BRANCH_SWITCH=$3
Z40="0000000000000000000000000000000000000000"

# Continue only when "git clone" has been executed.
if [ "${PREVIOUS_HEAD}" != "${Z40}" ] || [ "${BRANCH_SWITCH}" != "1" ]; then
  exit 0
fi

source ~/.config/git/bin/set_user_info_depending_on_repository_url || exit 1

if [ "${GIT_LOCAL_TEMPLATE_HOOKS_AVAILABLE:-}" = "1" ] && [ -f .git_templates/hooks/post-checkout ]; then
  source .git_templates/hooks/post-checkout
else
  exit 0
fi
