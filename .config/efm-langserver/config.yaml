version: 2

tools:
  checkmake: &checkmake
    lint-command: "checkmake"
    lint-stdin: true

  erb: &erb
    lint-command: "erb -x -T - | ruby -c"
    lint-stdin: true
    lint-offset: 0

  jq: &jq
    lint-command: "jq ."

  markdownlint: &markdownlint
    lint-command: "markdownlint --stdin"
    lint-stdin: true
    lint-formats:
      - "%f:%l:%c %m"
      - "%f:%l %m"
      - "%f: %l: %m"

  shellcheck: &shellcheck
    lint-command: "shellcheck --shell=bash --format=gcc --external-sources --enable=all -"
    lint-stdin: true
    lint-formats:
      - "%f:%l:%c: %trror: %m"
      - "%f:%l:%c: %tarning: %m"
      - "%f:%l:%c: %tote: %m"

  textlint: &textlint
    lint-command: "$HOME/.config/efm-langserver/textlint_wrapper.sh '${INPUT}'"
    lint-stdin: true
    lint-formats:
      - "%f: line %l\\, col %n\\, %trror - %m"
      - "%f: line %l\\, col %n\\, %tarning - %m"

  vint: &vint
    lint-command: "vint -"
    lint-stdin: true

  yamllint: &yamllint
    lint-command: "yamllint --format parsable --strict -"
    lint-stdin: true
    lint-formats:
      - "%f:%l:%c: [%trror] %m"
      - "%f:%l:%c: [%tarning] %m"

languages:
  eruby:
    - <<: *erb

  eruby.yaml:
    - <<: *yamllint

  json:
    - <<: *jq

  make:
    - <<: *checkmake

  markdown:
    - <<: *markdownlint
    - <<: *textlint

  sh:
    - <<: *shellcheck

  vim:
    - <<: *vint

  yaml:
    - <<: *yamllint

  zsh:
    - <<: *shellcheck
